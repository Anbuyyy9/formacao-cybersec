services:
  greenbone:
    image: securecompliance/gvm
    container_name: greenbone-scanner
    platform: linux/amd64
    ports:
      - "9392:9392"
    environment:
      - 'PASSWORD=kensei-pass'
    volumes:
      - gvm_data:/data
    shm_size: '2gb'

  alvo-vulneravel:
    image: tleemcjr/metasploitable2
    container_name: metasploitable-alvo
    platform: linux/amd64
    ports:
      - "21:21"
      - "80:80"
      - "8180:8180"
    privileged: true
    # CORREÇÃO: Esta linha mantém o container rodando.
    tty: true

volumes:
  gvm_data:
    driver: local